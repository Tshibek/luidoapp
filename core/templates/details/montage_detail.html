{% extends 'assets/layout.html' %}
{% load thumbnail %}
{% block title %}Szczegóły Montażu{% endblock %}
{% block  content %}
    <div class="container py-5 h-50">
        <div class="row d-flex justify-content-center align-items-center h-75">
            <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                <div id="add_team" class="card bg-dark text-white"
                     style="border-radius: 1rem;background-color: #22223B!important;">
                    <div class="card-body p-5 text-center">
                        {% for image in montage.get_images %}
                            {#                            <img src="{{ MEDIA_URL }}{{ image.images }}">#}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container text-center my-3">
        <div class="row mx-auto my-auto justify-content-center">
            <div id="recipeCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner" role="listbox">
                    {% for image in montage.get_images %}
                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                            <div class="col-auto px-1">

                                <img src="{{ MEDIA_URL }}{{ image.images }}" width="330"
                                     height="330">

                            </div>
                        </div>
                    {% endfor %}
                </div>
                <a class="carousel-control-prev bg-transparent w-aut" href="#recipeCarousel" role="button"
                   data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </a>
                <a class="carousel-control-next bg-transparent w-aut" href="#recipeCarousel" role="button"
                   data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </a>
            </div>
        </div>

    </div>
{% endblock %}
{% block extra_javascript %}


    <script type="text/javascript">
        let items = document.querySelectorAll('.carousel .carousel-item')

        items.forEach((el) => {
            const minPerSlide = 4
            let next = el.nextElementSibling
            for (var i = 1; i < minPerSlide; i++) {
                if (!next) {
                    // wrap carousel by using first child
                    next = items[0]
                }
                let cloneChild = next.cloneNode(true)
                el.appendChild(cloneChild.children[0])
                next = next.nextElementSibling
            }
        })

    </script>
{% endblock %}